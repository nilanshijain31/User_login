(()=>{"use strict";var e={575:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.handlers=[],this.byId=new Map,this.name=e}executeHandlers(e,t){var s;t&&(null===(s=this.byId.get(t))||void 0===s||s.handlers.forEach((s=>s(Object.assign({},e),t)))),this.handlers.forEach((s=>s(Object.assign({},e),t)))}removeHandler(e,t){var s;const n=(null===(s=this.byId.get(""+t))||void 0===s?void 0:s.handlers)||this.handlers,i=n.indexOf(e);i>=0&&n.splice(i,1)}}},987:function(e,t,s){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(s(575));t.default=class{constructor(){this.events=new Map,this.eventHistory=[]}on(e,t,s){let n=this.events.get(e);n||(n=new i.default(e),this.events.set(e,n));let a=n.handlers;if(s){let e=n.byId.get(s);e||(e={handlers:[]},n.byId.set(s,e)),a=e.handlers}a.push(t)}off(e,t,s){var n;null===(n=this.events.get(e))||void 0===n||n.removeHandler(t,s)}fire(e,t,s){var n;t&&Object.entries(t).forEach((([e,s])=>{void 0===s&&delete t[e]})),this.eventHistory.push({eventName:e,data:Object.assign({timestamp:Date.now()},t),id:s}),null===(n=this.events.get(e))||void 0===n||n.executeHandlers(t,s)}history(e){return e?this.eventHistory.filter((t=>t.eventName===e)):this.eventHistory}}},129:function(e,t,s){var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,a){function o(e){try{r(n.next(e))}catch(e){a(e)}}function l(e){try{r(n.throw(e))}catch(e){a(e)}}function r(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,l)}r((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SasIabApi=void 0;const i=s(89);class a{constructor(e,t){this.apiWasFound=!1,this.apiAnsweredOk=!1,this.eventMessageListenerAdded=!1,this.apiCallbacks={},this.myCmpCallbackFinished=void 0,this.maxSearchRetry=50,this.doubleCallbackTime=10,this.retryNumber=0,this.retryInterval=0,this.name=e.name,this.sasCookieName=e.sasCookieName,this.sasAddtlCookieName=e.sasAddtlCookieName,this.version=e.version,this.getConsentFunction=e.getConsentFunction,this.apiFunctionName=e.apiFunctionName,this.consentObjectConsentDataName=e.consentObjectConsentDataName,this.consentObjectAdditionalConsentDataName=e.consentObjectAdditionalConsentDataName,this.apiLocator=e.apiLocator,this.sentMessage=e.sentMessage,this.postMessageReturnObjectName=e.postMessageReturnObjectName,t&&(this.myCmpCallbackFinished=()=>t()),this.lastCallbackResult={id:"",addtlConsent:"",eventStatus:"",gdprApplies:void 0,timeStamp:0,vendor:{consents:{},legitimateInterests:{}}}}get gdprApplies(){return this._gdprApplies}cmpCallback(e,t){var s;if(!t||!e||void 0===e[this.consentObjectConsentDataName]||null===e[this.consentObjectConsentDataName])return void window.sas.events.fire("ApiAnswered Wrong answer",{consent:e,success:t,failType:"Wrong answer",version:this.version},this.name);this.apiAnsweredOk=!0,this._gdprApplies=e.gdprApplies;const n={consentObject:e,name:this.consentObjectConsentDataName};if(e[this.consentObjectConsentDataName]&&window.sas.localStorage.setItem(this.sasCookieName,e[this.consentObjectConsentDataName]),this.consentObjectAdditionalConsentDataName&&e[this.consentObjectAdditionalConsentDataName]&&this.sasAddtlCookieName){let t=e[this.consentObjectAdditionalConsentDataName];Array.isArray(t)&&(t=JSON.stringify(t)),window.sas.localStorage.setItem(this.sasAddtlCookieName,t),n.additionalConsent=this.consentObjectAdditionalConsentDataName}window.sas.events.fire("ApiAnswered Valid answer",n,this.name),null===(s=this.myCmpCallbackFinished)||void 0===s||s.call(this)}callApiLocal(){return n(this,void 0,void 0,(function*(){const e=window[this.apiFunctionName];if(void 0!==e&&"[object Function]"===Object.prototype.toString.call(e)){if(this.apiWasFound=!0,window.sas.events.fire("ApiCalled",{location:"Same Iframe",version:this.version},this.name),"__gpp"===this.apiFunctionName){const t=()=>{const t=e("getGPPData");this.cmpCallback(t,null!=t)},s=Number((yield(0,i.betterGpp)("ping")).gppVersion||1);s<1.1&&t(),e(this.getConsentFunction,(e=>{s<1.1?t():this.cmpCallback(null==e?void 0:e.pingData,null!=(null==e?void 0:e.pingData))}))}else e(this.getConsentFunction,this.version,((e,t)=>{this.cmpCallback(e,t)}));return!0}return!1}))}callApiInFrame(){let e,t=window;for(;!e;){try{t.frames[this.apiLocator]&&(e=t)}catch(e){}if(t===window.top)break;t=t.parent}if(e){this.apiWasFound=!0,window.sas.events.fire("ApiFrameFound",{version:this.version},this.name);const t=(t,s,n)=>{const i="smartjs"+Math.random();this.apiCallbacks[i]=n,this.sendPostMessage(t,s,i,e)};if(this.eventMessageListenerAdded||(window.addEventListener("message",(e=>{this.readPostMessageResponse(e)})),this.eventMessageListenerAdded=!0),window.sas.events.fire("ApiCalled",{location:"Different iframe",version:this.version},this.name),"__gpp"===this.apiFunctionName){const s="smartjsPing"+Math.random();this.apiCallbacks[s]=e=>{var s,n;((null===(s=e.returnValue)||void 0===s?void 0:s.gppVersion)?Number(null===(n=e.returnValue)||void 0===n?void 0:n.gppVersion):1)<1.1&&t("getGPPData",void 0,((e,t)=>{this.cmpCallback(e,t)}))},this.sendPostMessage("ping",null,s,e)}return t(this.getConsentFunction,void 0,((e,t)=>{this.cmpCallback(e,t)})),!0}return!1}sendPostMessage(e,t,s,n){const i={};i[this.sentMessage]={command:e,parameter:t,callId:s,version:this.version},null==n||n.postMessage(i,"*")}readPostMessageResponse(e){const t="string"==typeof e.data&&-1!==e.data.indexOf(this.postMessageReturnObjectName)?JSON.parse(e.data):e.data;if(t[this.postMessageReturnObjectName]){const s=t[this.postMessageReturnObjectName];"function"!=typeof this.apiCallbacks[s.callId]||this.isCallbackDouble(s.callId,e)||(this.assignLastCallback(s.callId,e),this.apiCallbacks[s.callId](s.returnValue,s.success,this.version))}}isCallbackDouble(e,t){var s,n,i;let a=!1;const o=null===(n=null===(s=null==t?void 0:t.data)||void 0===s?void 0:s.__tcfapiReturn)||void 0===n?void 0:n.returnValue;return e===this.lastCallbackResult.id&&(null==t?void 0:t.timeStamp)-this.lastCallbackResult.timeStamp<this.doubleCallbackTime&&this.lastCallbackResult.addtlConsent===(null==o?void 0:o.addtlConsent)&&this.lastCallbackResult.eventStatus===(null==o?void 0:o.eventStatus)&&this.lastCallbackResult.gdprApplies===(null==o?void 0:o.gdprApplies)&&JSON.stringify(this.lastCallbackResult.vendor.consents)===JSON.stringify(null===(i=null==o?void 0:o.vendor)||void 0===i?void 0:i.consents)&&(a=!0),a}assignLastCallback(e,t){var s,n;const i=null===(n=null===(s=null==t?void 0:t.data)||void 0===s?void 0:s.__tcfapiReturn)||void 0===n?void 0:n.returnValue;this.lastCallbackResult.id=e,this.lastCallbackResult.addtlConsent=null==i?void 0:i.addtlConsent,this.lastCallbackResult.eventStatus=null==i?void 0:i.eventStatus,this.lastCallbackResult.gdprApplies=null==i?void 0:i.gdprApplies,this.lastCallbackResult.timeStamp=null==t?void 0:t.timeStamp,(null==i?void 0:i.vendor)&&(this.lastCallbackResult.vendor=Object.assign({},null==i?void 0:i.vendor))}tryCallApi(e){return n(this,void 0,void 0,(function*(){(yield this.callApiLocal())||(e%10==0&&window.sas.events.fire("ApiNotFoundInFrame",{retryNumber:e},this.name),this.callApiInFrame())}))}searchApiInterval(){return n(this,void 0,void 0,(function*(){this.apiWasFound&&this.apiAnsweredOk||(this.retryNumber%10==0&&window.sas.events.fire("ApiSearch",{retryNumber:this.retryNumber},this.name),yield this.tryCallApi(this.retryNumber)),(this.retryNumber>this.maxSearchRetry||this.apiWasFound&&this.apiAnsweredOk)&&clearInterval(this.retryInterval),this.retryNumber++}))}searchApi(){this.retryInterval=window.setInterval((()=>{this.searchApiInterval()}),500),this.searchApiInterval()}}t.SasIabApi=a,window.SasIabApi=a},89:function(e,t){var s=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(i,a){function o(e){try{r(n.next(e))}catch(e){a(e)}}function l(e){try{r(n.throw(e))}catch(e){a(e)}}function r(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,l)}r((n=n.apply(e,t||[])).next())}))};function n(e,t){return new Promise((s=>{const n=window.__gpp(e,((e,t)=>{t&&s(e)}),t);void 0!==n&&s(n)}))}function i(e){return s(this,void 0,void 0,(function*(){if(yield n("hasSection",e)){const t=yield n("getSection",e);return Array.isArray(t)?t[0]:t}return null}))}Object.defineProperty(t,"__esModule",{value:!0}),t.extendedGetSection=t.checkAndGetSection=t.betterGpp=t.ESection=void 0,function(e){e[e.tcfeuv2=2]="tcfeuv2",e[e.uspv1=6]="uspv1",e[e.usnat=7]="usnat",e[e.usca=8]="usca",e[e.usva=9]="usva",e[e.usco=10]="usco",e[e.usut=11]="usut",e[e.usct=12]="usct"}(t.ESection||(t.ESection={})),t.betterGpp=n,t.checkAndGetSection=i,t.extendedGetSection=function(e){return s(this,void 0,void 0,(function*(){return(yield i(e))||(yield i(e+"v1"))}))}},313:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class{isAvailable(){let e=!1;try{const t="smart_is_localstorage_available";localStorage.setItem(t,"1"),"1"===localStorage.getItem(t)&&(localStorage.removeItem(t),e=!0)}catch(e){}return this.isAvailable=()=>e,e}getItem(e){return this.isAvailable()?localStorage.getItem(e):null}setItem(e,t){return!!this.isAvailable()&&(localStorage.setItem(e,t),!0)}removeItem(e){return!!this.isAvailable()&&(localStorage.removeItem(e),!0)}}},477:function(e,t,s){var n,i,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(s(987)),l=a(s(313)),r=window.sas=window.sas||{};r.utils=r.utils||{},r.consent=r.consent||{},r.cmd=r.cmd||[],r.livePreview=r.livePreview||{},r.tracing=r.tracing||{},r.loggerQueue=r.loggerQueue||[],r.debugMode=r.debugMode||{},r.debugMode.logsQueue=r.debugMode.logsQueue||[],r.debugMode.bannersQueue=r.debugMode.bannersQueue||[],r.events=null!==(n=r.events)&&void 0!==n?n:new o.default,r.localStorage=null!==(i=r.localStorage)&&void 0!==i?i:new l.default,t.default=r}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,s),a.exports}(()=>{s(477);const e=s(129)})()})();